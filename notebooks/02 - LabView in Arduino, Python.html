
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LabView in Arduino, Python &#8212; Procesiranje signalov - Laboratorijske vaje</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/02 - LabView in Arduino, Python';</script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Fourierova integralska transformacija" href="03%20-%20Fourierova%20integralska%20transformacija.html" />
    <link rel="prev" title="Uvod v LabView" href="01%20-%20Uvod%20v%20LabView.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/lv_logo.png" class="logo__image only-light" alt="Procesiranje signalov - Laboratorijske vaje - Home"/>
    <script>document.write(`<img src="../_static/lv_logo.png" class="logo__image only-dark" alt="Procesiranje signalov - Laboratorijske vaje - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Procesiranje signalov
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01%20-%20Uvod%20v%20LabView.html">Uvod v LabView</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">LabView in Arduino, Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="03%20-%20Fourierova%20integralska%20transformacija.html">Fourierova integralska transformacija</a></li>
<li class="toctree-l1"><a class="reference internal" href="04%20-%20Lastnosti%20Fourierove%20transformacije.html">Lastnosti Fourierove transformacije</a></li>
<li class="toctree-l1"><a class="reference internal" href="05%20-%20LTI%20sistemi%2C%20zajem%20signalov.html">Linearni, časovno invariantni (LTI) sistemi - zajem signalov</a></li>
<li class="toctree-l1"><a class="reference internal" href="06%20-%20LTI%20sistemi%202%2C%20prenosne%20funkcije.html">Linearni, časovno invariantni (LTI) sistemi 2 - prenosne funkcije</a></li>
<li class="toctree-l1"><a class="reference internal" href="07%20-%20Enakomerno%20%C4%8Dasovno%20vzor%C4%8Denje%20in%20frekven%C4%8Dno%20prekrivanje.html">Enakomerno časovno vzorčenje in frekvenčno prekrivanje</a></li>
<li class="toctree-l1"><a class="reference internal" href="08%20-%20DFT%20in%20osnove%20naklju%C4%8Dnih%20procesov.html">DFT in osnove naključnih procesov</a></li>
<li class="toctree-l1"><a class="reference internal" href="09%20-%20Naklju%C4%8Dno%20vzbujanje%2C%20zajem%20signalov.html">Naključno vzbujanje - zajem signalov</a></li>
<li class="toctree-l1"><a class="reference internal" href="10%20-%20Naklju%C4%8Dno%20vzbujanje%202%2C%20prenosne%20funkcije.html">Naključno vzbujanje - ocena frekvenčnih prenosnih funkcij</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/domengorjup/ps_lv" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/domengorjup/ps_lv/issues/new?title=Issue%20on%20page%20%2Fnotebooks/02 - LabView in Arduino, Python.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/02 - LabView in Arduino, Python.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>LabView in Arduino, Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#naloga">Naloga</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#labview-hobbyist-toolkit">LabView Hobbyist Toolkit</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arduino-uno-atmega328p">Arduino Uno (Atmega328p)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labview-in-arduino">LabView in Arduino</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#povezava-z-arduinom-in-prvi-program">Povezava z Arduinom in prvi program</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#avtomatizacija-z-arduinom-digitalni-i-o-terminali">Avtomatizacija z Arduinom - digitalni I/O terminali</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zajem-podatkov-z-arduinom">Zajem podatkov z Arduinom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-branje-in-obdelava-zajetih-signalov">Python - branje in obdelava zajetih signalov</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uporaba-generatorja-signalov-rigol-dg1022">Uporaba generatorja signalov (RIGOL DG1022)</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="labview-in-arduino-python">
<h1>LabView in Arduino, Python<a class="headerlink" href="#labview-in-arduino-python" title="Link to this heading">#</a></h1>
<section id="naloga">
<h2>Naloga<a class="headerlink" href="#naloga" title="Link to this heading">#</a></h2>
<div class="warning admonition">
<p class="admonition-title">Naloga</p>
<ul class="simple">
<li><p>Z uporabo prikazanih funkcij v LabView-u zajemite signal s predpisanimi parametri, pripravljen z uporabo generatorja signalov (individualizirane podatke najdete v <a class="reference external" href="https://e-ucilnica.fs.uni-lj.si/">e-učilnici</a>).</p></li>
<li><p>Grafično predstavite “surove” podatke.</p></li>
<li><p>Na zajetem signalu smiselno prikažite uporabo predpisanih numeričnih postopkov (<code class="docutils literal notranslate"><span class="pre">obdelava_#</span></code> v tabeli s podatki).</p></li>
</ul>
<p>Pripravite kratko poročilo v okolju Jupyter Notebook <em>(od 3 do 10 celic s kodo)</em>, iz katerega naj bodo razvidni podatki naloge (iz tabele), ter da ste vse parametre pri izvedbi naloge tudi upoštevali (ustrezno izpišite obliko signala…).
Poročilo oddajte v <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> obliki (glejte <a class="reference internal" href="../intro.html#intro-domace-naloge"><span class="std std-ref">navodila za oddajo domačih nalog</span></a>).</p>
<p><strong>Dodatek</strong>: Raziščite in prikažite uporabo frekvenčnega filtriranja podatkov, katerega namen je odprava neželenega visokofrekvenčnega šuma v zajetem signalu (uporabite lahko  <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.lfilter.html"><code class="docutils literal notranslate"><span class="pre">scipy.signal.lfilter</span></code></a>). Pred tem zajetemu signalu po potrebi dodajte aditivno naključno komponento (šum).</p>
</div>
<hr class="docutils" />
<p>Kljub sicer zaprti strukturi je del LabView ekosistema tudi upravljalnik paketov <a class="reference external" href="https://www.vipm.io/">“VI Package manager (VIPM)”</a>, kjer lahko uporabniki delijo LabView kodo in pakete, s katerimi je mogoča uporaba funkcionalnost in opreme, ki je sam LabView sicer ne podpira.</p>
<div class="note admonition">
<p class="admonition-title">Namestitev LabView Community Edition</p>
<p>Za nekomercialno rabo je brezplačno na voljo <a class="reference external" href="https://www.ni.com/sl-si/shop/labview/select-edition/labview-community-edition.html">LabView Community Edition</a>, ki omogoča uporabo vseh osnovnih funkcij LabView-a, ki jih potrebujemo pri Procesiranju signalov.</p>
<p>LabView Community Edition je že pripravljen za uporabo s sistemom Arduino, ki ga bomo pri temu predmetu uporabljali za zajem signalov. Če želite preizkusiti delovanje programa na lastni opremi, sledite <a class="reference external" href="https://learn.ni.com/learn/article/getting-started-with-arduino-and-labview-community-edition">navodilom na tejle povezavi</a>.</p>
<p><strong>Pozor:</strong> Zaradi težav pri povezovanju z našim zajemnim sistemom v novejših verzijah programa priporočamo prenos in namestitev starejše različice (Version) <strong>2022</strong></p>
</div>
</section>
<section id="labview-hobbyist-toolkit">
<h2>LabView Hobbyist Toolkit<a class="headerlink" href="#labview-hobbyist-toolkit" title="Link to this heading">#</a></h2>
<p>Eden izmed brezplačnih paketov, razvitih s strani skupnosti, je tudi <a class="reference external" href="https://knowledge.ni.com/KnowledgeArticleDetails?id=kA00Z0000019TmpSAE&amp;amp;l=sl-SI">LabView Hobbyist Toolkit (nekoč LINX)</a>, ki omogoča uporabo LabView za upravljanje s strojno opremo Arduino, Raspberry Pi, in BeagleBone Black.</p>
<p>Če ste namestili LabView Community Edition, je LabView Hobbyist Toolkit na vašem sistemu že nameščen.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Za lažje delo z zajemnim sistemom Arduino v nadaljevanju je priporočljivo, da v nastavitvah programa LabView v meniju <strong>Tools &gt; Options &gt; Environment</strong> označite možnost <strong>Automatically close VISA sessions</strong>.</p>
</div>
<p><img alt="visa_sessions" src="../_images/000_visa_sessions.png" /></p>
<section id="arduino-uno-atmega328p">
<h3>Arduino Uno (Atmega328p)<a class="headerlink" href="#arduino-uno-atmega328p" title="Link to this heading">#</a></h3>
<p>Pri Procesiranju signalov bomo zaradi enostavne integracije v LabView zajemne sisteme in možnosti analogno-digitalne pretvorbe spoznali osnove uporabe razvojne plošče <a class="reference external" href="http://store.arduino.cc/products/arduino-uno-rev3">Arduino Uno</a>, ki temelji na mikrokrmilniku <a class="reference external" href="https://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-7810-Automotive-Microcontrollers-ATmega328P_Datasheet.pdf">Atmega328p</a>.</p>
<p>Specifikacije plošče Arduino Uno, bistvene pri aplikacijah analogno digitalne pretvorbe in zajema signalov, so zbrane v spodnji tabeli.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Parameter</p></th>
<th class="head text-left"><p>Vrednost</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Število analognih vhodov</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">6</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>ADC bitna globina</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">bit</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>USB napajalna napetost (V<sub>CC</sub>)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">V</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Območje merjenja napetosti</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">V</span> <span class="pre">do</span> <span class="pre">5</span> <span class="pre">V</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Limite vhodne napetosti</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">-0.5</span> <span class="pre">V</span> <span class="pre">do</span> <span class="pre">VCC</span> <span class="pre">+</span> <span class="pre">0.5</span> <span class="pre">V</span></code></p></td>
</tr>
</tbody>
</table>
<div class="important admonition">
<p class="admonition-title">Opozorilo</p>
<p>Pri zajemu signalov moramo biti pozorni, da ne presežemo ekstremov dovoljenih vrednosti vhodne napetosti zajemne naprave.</p>
<p><strong>Merilno območje</strong> Arduina je <code class="docutils literal notranslate"><span class="pre">(0-5</span> <span class="pre">V)</span></code>, <strong>območje dopustnih napetosti</strong>* v našem primeru pa <code class="docutils literal notranslate"><span class="pre">(-0.5-5.5</span> <span class="pre">V)</span></code> (glej zgornjo tabelo). Če presežemo merilno območje naprave signala ne bomo zajeli v celoti, če presežemo dopustno napetost pa lahko poškodujemo zajemni sistem!</p>
<p>* Omejitev dopustne napetosti je še strožja, kadar sistem ni napajan (<code class="docutils literal notranslate"><span class="pre">VCC</span> <span class="pre">=</span> <span class="pre">0</span></code>). Če napajalni kabel (USB) Arduina ni povezan z USB priključkom, ki omogoča napajanje z napetostjo 5V, je območje dopustnih napetosti <code class="docutils literal notranslate"><span class="pre">(-0.5-0.5</span> <span class="pre">V)</span></code>!</p>
</div>
<p>Pred zajemom signalov z Arduinom (<strong>preden priključimo signalni kabel na vhodni terminal</strong>) moramo torej <strong>vedno preveriti, da je sistem napajan preko USB povezave</strong>, ter da <strong>signal, ki ga priključimo na kateregakoli od vhodnih terminalov, v mejah</strong>:</p>
<div class="math notranslate nohighlight">
\[V_{\mathrm{in}} = V_{\mathrm{offset}} \pm V_{\mathrm{PP}} / 2 \in [0, 5] \mathrm{ V}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V_offset</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="n">V_pp</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">signal</span> <span class="o">=</span> <span class="n">V_pp</span><span class="o">/</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">V_offset</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;-.&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$V_{</span><span class="se">\\</span><span class="s1">mathrm</span><span class="si">{offset}</span><span class="s1">}$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;merilno območje&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;dopustno območje&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">V_offset</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">signal</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">signal</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">5.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;signal&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">V_pp</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;&lt;|-|&gt;&#39;</span><span class="p">,</span> <span class="n">shrinkA</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shrinkB</span><span class="o">=</span><span class="mi">0</span><span class="p">,)</span>
            <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.26</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;$V_{</span><span class="se">\\</span><span class="s1">mathrm</span><span class="si">{PP}</span><span class="s1">}$&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;t [s]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;signal [V]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/71987735642e5fdc568195be262a01557dba6c57966a4dc591238dc2cc4cfa4b.png" src="../_images/71987735642e5fdc568195be262a01557dba6c57966a4dc591238dc2cc4cfa4b.png" />
</div>
</div>
</section>
<section id="labview-in-arduino">
<h3>LabView in Arduino<a class="headerlink" href="#labview-in-arduino" title="Link to this heading">#</a></h3>
<p>Paket LINX omogoča dostop do analognih vhodnih kanalov ter digitalnih I/O kanalov Arduino plošče iz LabView-a. Podpira tudi povezavo Arduina z zunanjimi napravami, na primer preko SPI ali I2C serijske povezave.</p>
<p>Do podprtih programskih elementov dostopamo preko posebnega menija v naboru funkcij blokovnega diagrama, <code class="docutils literal notranslate"><span class="pre">MakerHub</span> <span class="pre">-&gt;</span> <span class="pre">LINX</span></code>.</p>
<p><img alt="linx_functions" src="../_images/makerhub_functions.png" /></p>
<section id="povezava-z-arduinom-in-prvi-program">
<h4>Povezava z Arduinom in prvi program<a class="headerlink" href="#povezava-z-arduinom-in-prvi-program" title="Link to this heading">#</a></h4>
<p>Za vzpostavitev povezave z Arduinom v LabView-u uporabimo posebno funkciji knjižnice LINX, <code class="docutils literal notranslate"><span class="pre">Open</span></code>.</p>
<p>Osnovni parameter pri odpiranju povezave so <em>COM serijska vrata</em>, preko katerih je Arduino povezan na naš računalnik. Če je v sistem povezanih več podobnih serijskih naprav, lahko serijska vrata povezanega Arduina najdete z orodjem <code class="docutils literal notranslate"><span class="pre">Upravitelj</span> <span class="pre">naprav</span> <span class="pre">(Device</span> <span class="pre">Manager)</span></code>.</p>
<p><img alt="device_manager" src="../_images/device_manager_com.png" /></p>
<p>Druga pomembna nastavitev je hitrost serijske povezave (<em>baud rate</em>) z Arduinom. Privzeta vrednost je <code class="docutils literal notranslate"><span class="pre">9600</span></code>, najvišja, ki jo Arduino Uno dopušča, pa <code class="docutils literal notranslate"><span class="pre">115200</span></code>.</p>
<p>Če zgoraj niste vključili možnosti “Automatically close VISA sessions”, morate po zaključenem delu z Arduinom povezavo <strong>zapreti s funkcijo <code class="docutils literal notranslate"><span class="pre">Close</span></code></strong>, sicer boste pri ponovnem poskusu vzpostavitve povezave imeli težave.</p>
<p><img alt="open_close" src="../_images/00_open_close.png" /></p>
</section>
<section id="avtomatizacija-z-arduinom-digitalni-i-o-terminali">
<h4>Avtomatizacija z Arduinom - digitalni I/O terminali<a class="headerlink" href="#avtomatizacija-z-arduinom-digitalni-i-o-terminali" title="Link to this heading">#</a></h4>
<p>Čeprav Arduino vključuje relativno zmogljiv 10-bitni analogno-digitalni pretvornik s 6 analognimi vhodnimi kanali, zaradi relativno omejene procesorske moči <em>pogosto ni optimalna izbira za naprednejše aplikacije zajema signalov</em> (za potrebe tega predmeta pa so zmogljivosti Arduina seveda zadostne).</p>
<p>Bolj tipično področje uporabe je zato avtomatizacija in integracija različnih merilnih elementov in strojne opreme. To omogoča širok nabor večnamenskih digitalnih I/O terminalov (GPIO).</p>
<p>Poglejmo si osnovno uporabo GPIO kanalov Arduina, na primeru vklopa / izklopa LED luči, integrirane na Arduino plošči, katere stanje je povezano z vrednostjo GPIO terminala <code class="docutils literal notranslate"><span class="pre">13</span></code>.</p>
<p><img alt="uno-led" src="../_images/uno_led.png" /></p>
<p>Za zapis <code class="docutils literal notranslate"><span class="pre">Boolean</span></code> vrednosti ustreznega GPIO terminala bomo uporabili funkcijo <code class="docutils literal notranslate"><span class="pre">Makerhub</span> <span class="pre">-&gt;</span> <span class="pre">LINX</span> <span class="pre">-&gt;</span> <span class="pre">Peripheral</span> <span class="pre">-&gt;</span> <span class="pre">Digital</span> <span class="pre">-&gt;</span> <span class="pre">Write</span></code>.</p>
<p><img alt="digital-write" src="../_images/digital_write.png" /></p>
<div class="seealso admonition">
<p class="admonition-title">Naloga 1</p>
<p>Pripravimo LabView program, ki:</p>
<ul class="simple">
<li><p>vzpostavi povezavo z Arduinom na izbranih serijskih vratih,</p></li>
<li><p>na digitalni terminal št. <code class="docutils literal notranslate"><span class="pre">13</span></code> zapiše izbrano <code class="docutils literal notranslate"><span class="pre">Boolean</span></code> vrednost,</p></li>
<li><p>zapre povezavo z Arduinom.</p></li>
</ul>
</div>
<p><img alt="digital-out" src="../_images/01_digital_out.png" /></p>
<div class="important admonition">
<p class="admonition-title">Naloga 2 (5 minut)</p>
<p>Zgornji program nadgradite tako, da:</p>
<ul class="simple">
<li><p>omogoča nastavitev stanja LED luči (vklop / izklop) v realnem času,</p></li>
<li><p>po zapisu stanja zgodovino stanj izrisuje na grafu.</p></li>
</ul>
<p>Namig: na prejšnji vaji smo na grafu izrisovali numerične vrednosti, prebrano stanje digitalnega terminala pa je treba pred prikazom ustrezno pretvoriti!</p>
</div>
</section>
</section>
</section>
<section id="zajem-podatkov-z-arduinom">
<h2>Zajem podatkov z Arduinom<a class="headerlink" href="#zajem-podatkov-z-arduinom" title="Link to this heading">#</a></h2>
<p>Pri zajemu podatkov gre običajno za pretvorbo merilnega signala (el. napetost) v digitalno obliko, ki poteka na A-D pretvorniku. Arduino Uno ima na voljo 6 analognih vhodov, ki so povezani na ADC komponento plošče.</p>
<p>Za pretvorbo in zajem posamezne točke signala na analognih vhodih lahko uporabimo funkcijo “AnalogRead” (<code class="docutils literal notranslate"><span class="pre">Makerhub</span> <span class="pre">-&gt;</span> <span class="pre">LINX</span> <span class="pre">-&gt;</span> <span class="pre">Peripheral</span> <span class="pre">-&gt;</span> <span class="pre">Analog</span> <span class="pre">-&gt;</span> <span class="pre">Read</span></code>), ki omogoča hkratni zajem na več kanalih.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Vezje, ki ga bomo pri Procesiranju signalov uporabili skupaj z Arduinom za povezavo zunanjih signalov z analognimi vhodi plošče preko koaksialnih, BNC priključkov, omogoča uporabo analognih kanalov <code class="docutils literal notranslate"><span class="pre">A0</span></code> in <code class="docutils literal notranslate"><span class="pre">A1</span></code>.</p>
</div>
<p><img alt="bnc_shield" src="../_images/arduino_bnc_shield.png" /></p>
<div class="seealso admonition">
<p class="admonition-title">Naloga 3</p>
<p>Pripravimo LabView program, ki:</p>
<ul class="simple">
<li><p>vzpostavi povezavo z Arduinom na izbranih serijskih vratih,</p></li>
<li><p>v zanki zajeto nastavljeno število podatkov iz dveh analognih vhodnih kanalov izriše na graf.</p></li>
</ul>
</div>
<p><img alt="analog-read" src="../_images/03_analog_read.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Oblika podatkov, pridobljenih iz <code class="docutils literal notranslate"><span class="pre">N</span></code> kanalov pri nastavitvi v <code class="docutils literal notranslate"><span class="pre">n</span></code> iteracijah zanke, je <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">N)</span></code> (torej <code class="docutils literal notranslate"><span class="pre">n</span></code> vrstic, <code class="docutils literal notranslate"><span class="pre">N</span></code> stolpcev).</p>
<p>Podatke, zajete na posameznem analognem kanalu, dobimo z izbiro posameznega stolpca (<code class="docutils literal notranslate"><span class="pre">col</span></code>) v dobljenem <code class="docutils literal notranslate"><span class="pre">array</span></code>-u, z uporabo <code class="docutils literal notranslate"><span class="pre">Array</span> <span class="pre">-&gt;</span> <span class="pre">Index</span> <span class="pre">Array</span></code> funkcije blokovnega diagrama.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ker so pridobljeni podatki po izbranem številu iteracij zanke zajema sedaj v obliki polja (<code class="docutils literal notranslate"><span class="pre">array</span></code>), za njihov prikaz uporabimo funkcijo “Waveform Graph” (<code class="docutils literal notranslate"><span class="pre">Graph</span> <span class="pre">-&gt;</span> <span class="pre">Waveform</span> <span class="pre">Graph</span></code> na krmilni plošči).</p>
</div>
<div class="important admonition">
<p class="admonition-title">Naloga 4 (10 minut)</p>
<p>Zgornji program nadgradite tako, da:</p>
<ul class="simple">
<li><p>namesto trajanja pavze med zaporednimi iteracijami zajema omogoča izbiro <em>frekvence vzorčenja [Hz]</em>,</p></li>
<li><p>omogoča izbiro  števila zajetih segmentov signala z <code class="docutils literal notranslate"><span class="pre">n</span></code> vzorci,</p></li>
<li><p>omogoča shranjevanje signala v <code class="docutils literal notranslate"><span class="pre">.lvm</span></code> datoteko.</p></li>
</ul>
</div>
<p>Tako smo dobili enostaven sistem, ki ga že lahko uporabimo za zajem realnih merilnih signalov.</p>
<p>Zmogljivosti takega sistema so seveda omejene. Pri merjenju običajno želimo nadzorovati čim več parametrov merilne opreme. Naslednji primer VI omogoča tudi določitev občutljivosti posameznih merilnih kanalov ter shranjevanje neodvisne spremenljivke (časa) skupaj z zajetimi signali.</p>
<p><img alt="open-loop-saving" src="../_images/05_continuous_N_channels_open_loop_saving.png" /></p>
<p>Naslednji primer pa omogoča tudi krmiljenje dejanjske frekvence vzorčenja v enostavni povratni zanki:</p>
<p><img alt="closed-loop-saving" src="../_images/07_continuous_N_channels_closed_loop_saving_new_feedback.png" /></p>
<p>Pri tem je uporabljen tudi naslednji podprogram:</p>
<p><img alt="closed-loop-saving-subvi" src="../_images/07_01_clip_fs_SubVI.png" /></p>
<p>Oboje lahko prenesete tudi v obliki <a class="reference download internal" download="" href="../_downloads/fe35982e9ec10d562dca252f2f56a11d/labview_zajem.zip"><code class="xref download docutils literal notranslate"><span class="pre">zip</span> <span class="pre">arhiva</span></code></a>.</p>
</section>
<section id="python-branje-in-obdelava-zajetih-signalov">
<h2>Python - branje in obdelava zajetih signalov<a class="headerlink" href="#python-branje-in-obdelava-zajetih-signalov" title="Link to this heading">#</a></h2>
<p>Pri branju podatkov, shranjnih v <code class="docutils literal notranslate"><span class="pre">.lvm</span></code> datoteke, si lahko pomagate s paketom <a class="reference external" href="https://pypi.org/project/lvm-read/"><code class="docutils literal notranslate"><span class="pre">lvm_read</span></code></a>.</p>
<p>Primer uporabe si poglejmo spodaj.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">lvm_read</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;data/02/test_01.lvm&#39;</span>
<span class="n">loaded_data</span> <span class="o">=</span> <span class="n">lvm_read</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="n">loaded_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;Decimal_Separator&#39;, &#39;Writer_Version&#39;, &#39;Reader_Version&#39;, &#39;Separator&#39;, &#39;Multi_Headings&#39;, &#39;X_Columns&#39;, &#39;Time_Pref&#39;, &#39;Operator&#39;, &#39;Date&#39;, &#39;Time&#39;, 0, &#39;Segments&#39;])
</pre></div>
</div>
</div>
</div>
<p>Naloženi podatki so strukturirani v obliki slovarja. Podatek <code class="docutils literal notranslate"><span class="pre">'Segments</span></code> nam pove, koliko segmentov smo zajeli:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loaded_data</span><span class="p">[</span><span class="s1">&#39;Segments&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>segment podatkov pa je v slovarju shranjen s ključem zaporednega indeksa. Če je shranjen segment samo eden, je edini indeks, ki je na voljo, <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loaded_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;Channels&#39;, &#39;Samples&#39;, &#39;Date&#39;, &#39;Time&#39;, &#39;X_Dimension&#39;, &#39;X0&#39;, &#39;Delta_X&#39;, &#39;data&#39;, &#39;Channel names&#39;])
</pre></div>
</div>
</div>
</div>
<p>Vsak posamezni segment je prav tako slovar, v katerem do surovih shranjenih podatkov dostopamo s ključem <code class="docutils literal notranslate"><span class="pre">'data'</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loaded_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(100, 2)
</pre></div>
</div>
</div>
</div>
<p>Posamezni stolpci podatkov predstavljajo po en shranjen kanal:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kanal_1</span><span class="p">,</span> <span class="n">kanal_2</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kanal_1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;kanal 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kanal_2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;kanal 2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;podatek [/]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;napetost [V]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x25ca43dca10&gt;
</pre></div>
</div>
<img alt="../_images/c9ee8586a32a230bafbacd9f4e0ca78766e3b93063b5376e5b531b6a7e26a0d5.png" src="../_images/c9ee8586a32a230bafbacd9f4e0ca78766e3b93063b5376e5b531b6a7e26a0d5.png" />
</div>
</div>
<p>Poglejmo še primer, ko je v <code class="docutils literal notranslate"><span class="pre">.lvm</span></code> datoteki shranjenih več segmentov, ki so pri shranjevanju ločeni z glavami (<em>header</em>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file_2</span> <span class="o">=</span> <span class="s1">&#39;data/02/test_segments.lvm&#39;</span>
<span class="n">loaded_data_2</span> <span class="o">=</span> <span class="n">lvm_read</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file_2</span><span class="p">)</span>
<span class="n">loaded_data_2</span><span class="p">[</span><span class="s1">&#39;Segments&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>Po shranjenih segmentih lahko iteriramo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_segments</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">loaded_data_2</span><span class="p">[</span><span class="s1">&#39;Segments&#39;</span><span class="p">]):</span>
    <span class="n">all_segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loaded_data_2</span><span class="p">[</span><span class="n">seg</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Datoteka v tem primeru vsebuje tudi stolpec neodvisne spremenljivke (časa):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">t_start</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">segment</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_segments</span><span class="p">):</span>
    <span class="n">t</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span> <span class="o">=</span> <span class="n">segment</span><span class="o">.</span><span class="n">T</span>
    <span class="n">t_segment</span> <span class="o">=</span> <span class="n">t</span> <span class="o">+</span> <span class="n">t_start</span>
    <span class="n">t_start</span> <span class="o">=</span> <span class="n">t_segment</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t_segment</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;kanal 1, segment </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t_segment</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;kanal 2, segment </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;podatek [/]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;napetost [V]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x25ca75de6c0&gt;
</pre></div>
</div>
<img alt="../_images/ef8446f510afcf3f755523e3e17432ba9c4f831058d37f78b4d9b8a3afd69c65.png" src="../_images/ef8446f510afcf3f755523e3e17432ba9c4f831058d37f78b4d9b8a3afd69c65.png" />
</div>
</div>
<p>Lahko pa vse segmente združite (in poljubno obdelujete) z uporabo ustreznih Numpy funkcij:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">complete_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">all_segments</span><span class="p">)</span>
<span class="n">complete_data</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(250, 3)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">channel_1</span><span class="p">,</span> <span class="n">channel_2</span> <span class="o">=</span> <span class="n">complete_data</span><span class="o">.</span><span class="n">T</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">_</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">t_complete</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">channel_1</span><span class="p">))</span> <span class="o">*</span> <span class="n">dt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t_complete</span><span class="p">,</span> <span class="n">channel_1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;kanal 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t_complete</span><span class="p">,</span> <span class="n">channel_2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;kanal 2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;podatek [/]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;napetost [V]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x25ca44246e0&gt;
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 640x480 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../_images/db1b6bad279f60aa06a1ef6977f0f9514fa8763028e78fa0d7d2828aa410a3f2.png" src="../_images/db1b6bad279f60aa06a1ef6977f0f9514fa8763028e78fa0d7d2828aa410a3f2.png" />
</div>
</div>
</section>
<section id="uporaba-generatorja-signalov-rigol-dg1022">
<span id="uporaba-rigol"></span><h2>Uporaba generatorja signalov (RIGOL DG1022)<a class="headerlink" href="#uporaba-generatorja-signalov-rigol-dg1022" title="Link to this heading">#</a></h2>
<p>Za simulacijo predpisane oblike periodičnega signala bomo uporabili generator signala.</p>
<p>Spodanja slika prikazuje nadzorno ploščo modela RIGOL DG1022.</p>
<p><img alt="rigol-dg1022" src="../_images/rigol_dg1022.png" /></p>
<p>Za nastavitev izbranih parametrov signala uporabite kontrolne gumbe, na zgornji sliki označene z modro barvo. Pri tem bodite pozorni, da ste z gumbom <code class="docutils literal notranslate"><span class="pre">Channel</span> <span class="pre">Switch</span></code> izbrali kanal, na katerem želite oddajati signal.</p>
<p>Generator signala signal oddaja preko koaksialne (BNC) povezave na desni strani krmilne plošče. Oddajanje nastavljenega signala poteka, kadar je osvetljen <code class="docutils literal notranslate"><span class="pre">Output</span></code> gumb izbranega kanala.</p>
<p><img alt="rigol-nastavitev" src="../_images/rigol_nastavitev.png" /></p>
<div class="important admonition">
<p class="admonition-title">Opozorilo</p>
<p>Preden vključite oddajanje signala z ustreznim <code class="docutils literal notranslate"><span class="pre">Channel</span></code> gumbom <strong>preverite, da so vse nastavitve izbranega kanala pravilne, in da niste presegli merilnega območja zajemnega sistema</strong>. Šele za tem priključite zajemni sistem na izhodni kanal generatorja signala!</p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="01%20-%20Uvod%20v%20LabView.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Uvod v LabView</p>
      </div>
    </a>
    <a class="right-next"
       href="03%20-%20Fourierova%20integralska%20transformacija.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Fourierova integralska transformacija</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#naloga">Naloga</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#labview-hobbyist-toolkit">LabView Hobbyist Toolkit</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arduino-uno-atmega328p">Arduino Uno (Atmega328p)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labview-in-arduino">LabView in Arduino</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#povezava-z-arduinom-in-prvi-program">Povezava z Arduinom in prvi program</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#avtomatizacija-z-arduinom-digitalni-i-o-terminali">Avtomatizacija z Arduinom - digitalni I/O terminali</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zajem-podatkov-z-arduinom">Zajem podatkov z Arduinom</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-branje-in-obdelava-zajetih-signalov">Python - branje in obdelava zajetih signalov</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uporaba-generatorja-signalov-rigol-dg1022">Uporaba generatorja signalov (RIGOL DG1022)</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Domen Gorjup
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>